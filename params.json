{
  "name": "Machinelearning",
  "tagline": "",
  "body": "\r\n#**Practical Machine Learning Course Project**\r\n\r\n##**Summary**\r\n\r\nThe aim of this work is to build the best predictive model that predict the manner in which the authors did the exercise of producing the classes in their paper.\r\nFor that end, we build two models using the random forest method and the regression partition tree. We evaluated the accuracy of each method on a subsetted training and test set. The random forest method appeared to be the best.\r\n\r\n##**The model selection**\r\nThe libraries needed\r\n\r\n```{r, include = FALSE, echo = FALSE}\r\nlibrary(markdown)\r\nlibrary(knitr)\r\nlibrary(caret) \r\nlibrary(kernlab) \r\nlibrary(rattle)\r\nlibrary(rpart)\r\nlibrary(rpart.plot)\r\nlibrary(randomForest)\r\n```\r\n\r\nWe set the seed\r\n\r\n```{r}\r\nset.seed(1234)\r\n```\r\n\r\nWe download the two datasets.\r\n\r\n```{r}\r\ndownload.file(\"https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv\",\"pml.testing.csv\")\r\ndownload.file(\"https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv\",\"pml.training.csv\")\r\n```\r\nWe load the two datasets.\r\n\r\n```{r}\r\ntraining <- read.csv(\"pml.training.csv\", na.strings = c(\"NA\",\"#DIV/0!\",\"\"))\r\ntesting <- read.csv(\"pml.testing.csv\", na.strings=c(\"NA\",\"#DIV/0!\",\"\"))\r\n```\r\n\r\nWe delete the rows with NA\r\n\r\n```{r}\r\ntraining <- training[,colSums(is.na(training))==0]\r\ntesting <- testing[,colSums(is.na(testing))==0]\r\n```\r\n\r\nWe delete columns we don't need for our analysis\r\n\r\n```{r}\r\ntraining2 <- training[,-c(1:7)]\r\n```\r\n\r\n```{r}\r\ntesting2 <- testing[,-c(1:7)]\r\n```\r\n\r\nWe partion the training set in two subsets that will be used to select the the best method to use for the prediction on the original testing set.\r\n\r\n```{r}\r\ninTrain <- createDataPartition(training2$classe,p=3/4, list = FALSE)\r\ntraining3 <- training2[inTrain,]\r\ntesting3 <- training2[-inTrain,]\r\n```\r\n\r\n```{r}\r\n dim(training3)\r\n```\r\n\r\n```{r}\r\n dim(testing3)\r\n```\r\n\r\n\r\nWe start by fitting with the regression partition tree.\r\n\r\n```{r}\r\nfit.rpart <- rpart(classe~.,data = training3,method = \"class\") \r\nmod.rpart <- predict(fit.rpart, newdata = testing3,type = \"class\")\r\n```\r\n\r\nWe can plot the tree below.\r\n\r\n```{r}\r\nrpart.plot(fit.rpart, main=\"Classification Tree\", extra=102, under=TRUE, faclen=0)\r\n```\r\n\r\nWe use the confusion matrix for accuracy.\r\n\r\n```{r}\r\nconfusionMatrix(mod.rpart, testing3$classe)\r\n```\r\n\r\nThe second fit is with the random forest method.\r\n\r\n```{r}\r\nfit.rf <- randomForest(classe~.,data = training3,method = \"class\") \r\nmod.rf <- predict(fit.rf, newdata = testing3,type = \"class\")\r\n```\r\n\r\nWe use the confusion matrix for accuracy.\r\n\r\n```{r}\r\nconfusionMatrix(mod.rf, testing3$classe)\r\n```\r\n\r\nPredict outcome levels on the original test data set using Random Forest algorithm, the best of the two algorithms tested.\r\n\r\n```{r}\r\nmodFin <- predict(fit.rf, newdata = testing2, type=\"class\")\r\n```\r\n\r\nWrite files for submission\r\n\r\n```{r}\r\nwriteInFiles <- function(x){\r\n        n = length(x)\r\n        for(i in 1:n){\r\n                filename = paste0(\"problem_id_\",i,\".txt\")\r\n                write.table(x[i],file=filename,quote=FALSE,row.names=FALSE,col.names=FALSE)\r\n        }\r\n}\r\n\r\nwriteInFiles(modFin)\r\n```\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}